$(document).ready(function() {
    function t(e) {
        return /^(([^-<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)
    }

    function s(e) {
        var t = e.closest(".js-packg-form").find("input"),
            s = !1;
        return t.each(function() {
            $(this).removeClass("form-input-error");
            var e = "Please, fill in the required field.";
            if ("" == $(this).val()) {
                $(this).addClass("form-input-error");
                var t = $(this).attr("data-error-text");
                void 0 !== t && (e = t), $(this).attr("placeholder", e), s = !0
            }
        }), s
    }
    var a = !1;

    function o(e) {
        if (!a) {
            a = !0;
            for (var t, s = "", o = 0; o < f.length; o++) window.innerWidth >= 992 && (f[o].classList.remove("op-1"), f[o].classList.add("op-0"), f[o].style.marginTop = 0);
            if (p.forEach(e => {
                    e.querySelector(".features-list-item-text").classList.remove("text-green"), s = (s = e.querySelector(".features-list-item-img").getAttribute("src")).replace(".png", ".svg"), e.querySelector(".features-list-item-img").setAttribute("src", s), window.innerWidth >= 992 && (e.querySelector(".green-label").style.opacity = 0)
                }), e.target.closest("li").querySelector(".features-list-item-text").classList.add("text-green"), s = (s = e.target.closest("li").querySelector(".features-list-item-img").getAttribute("src")).replace(".svg", ".png"), e.target.closest("li").querySelector(".features-list-item-img").setAttribute("src", s), t = p.indexOf(e.target.closest("li")), window.innerWidth >= 992) f[t].classList.add("op-1"), f[t].style.marginTop = `calc(7.3vw + (5.83vw * ${t}))`, e.target.closest("li").querySelector(".green-label").style.opacity = 1, a = !1;
            else {
                var r = $(".features-wrapper-mobile").children(".descriptions-wrapper").children(".op-1"),
                    i = $($(".features-wrapper-mobile").find(".descriptions-wrapper").find(".description-card")[t]);
                r.fadeOut(300).removeClass("op-1"), setTimeout(function() {
                    i.fadeIn(200).addClass("op-1")
                }, 300), setTimeout(function() {
                    a = !1
                }, 500)
            }
        }
    }
    $(".promocode .promo-btn").on("click", function() {
            $(this).slideUp(), $(this).next().slideDown()
        }), $(".promocode .promo-input .btn-apply").on("click", function(e) {
            var t = $(this).parent().parent().parent().parent(),
                s = $(this).parent().parent().find(".error"),
                a = t.find('[name="code"]'),
                o = t.find('[name="status"]'),
                r = {
                    data: {
                        id: t.find('[name="paypal_id"]').val(),
                        code: a.val()
                    }
                };
            "false" == o.val() && setTimeout(() => {
                $.ajax({
                    type: "POST",
                    url: "/promocode/ajax.php",
                    data: r,
                    success: function(e) {
                        e.status ? (s.html("DISCOUNT IS APPLIED").slideDown().addClass("true"), o.val(!0), a.removeClass("err").attr("disabled", "true"), t.find('[name="paypal_id"]').val(e.id), t.find("span.icon").addClass("check"), t.find(".pkg-item__header-top-price").addClass("code").html("$" + e.price + '<span class="new">' + t.find(".pkg-item__header-top-price").text().replace("$", "") + "</span>")) : (a.addClass("err"), t.find("span.error").slideDown())
                    }
                })
            }, 500)
        }), $("#phone_animate").length && bodymovin.loadAnimation({
            container: document.getElementById("phone_animate"),
            renderer: "svg",
            loop: !0,
            autoplay: !0,
            path: "../json/Phone.json"
        }), $(".shar_1").length && $(window).mousemove(e => {
            var t = e.pageX / 3 * .2;
            y = e.pageY / 4 * .2, $(".shar_1").css({
                right: 400 + t,
                top: 170 + y
            }), $(".shar_2").css({
                left: 571 + .2 * t,
                top: 300 - .4 * y
            }), $(".shar_3").css({
                left: 484 - .1 * t,
                top: 400 + .2 * y
            })
        }), $(".studies__body .tabs .item.active").fadeIn(0), $(".tabs__btns li").click(function(e) {
            if (!$(this).hasClass("active")) {
                var t = $(this).data("item");
                $(".tabs__btns li.active").removeClass("active"), $(this).addClass("active"), $(".studies__body .tabs .active").fadeOut(400), setTimeout(() => {
                    $(".studies__body .tabs .item[data-item=" + t + "]").fadeIn(300), $(".studies__body .tabs .item[data-item=" + t + "]").addClass("active")
                }, 350)
            }
        }),
        function() {
            const e = $(".header__nav-item").find("a");
            for (let t = 0; t < e.length; t++) e[t].classList.remove("text-green"), e[t].closest("li").style.pointerEvents = "unset", e[t].closest(".header__nav-item_has-child") && e[t].closest(".header__nav-item_has-child").children[0].classList.remove("text-green");
            for (let t = 0; t < e.length; t++)
                if (e[t].getAttribute("href") == window.location.pathname) return e[t].classList.add("text-green"), e[t].closest("li").style.pointerEvents = "none", void(e[t].closest(".header__nav-item_has-child") && e[t].closest(".header__nav-item_has-child").children[0].classList.add("text-green"))
        }(), window.innerWidth <= 480 && $(".banner-video").remove(), $(document).on("click", function(e) {
            var t = $(".start-popup");
            $(e.target).closest(".start-popup").length < 1 && $(t).hasClass("start-popup_active") && $(t).removeClass("start-popup_active")
        }), $(".js-start-popup__close").on("click", function() {
            $(".start-popup").removeClass("start-popup_active")
        }), $(".start-btn").on("click", function() {
            var e = $(this).data("popup-id");
            if (null != e) return $("#" + e).toggleClass("start-popup_active"), !1
        });
    var r = "";
    $(".features__item").on("mouseenter", function(e) {
        null != e.currentTarget.getAttribute("data-features-tab") && $(".features").removeClass(r);
        var t = $(this).data("features-tab");
        $(".features__item-icon").each(function() {
            $(this).removeClass("features__item-icon_active")
        }), $(".features__item-descrip").each(function() {
            $(this).removeClass("features__item-descrip_active")
        });
        var s = "tab-text-" + t;
        r = "features-bg-" + t, $(this).find(".features__item-icon").addClass("features__item-icon_active"), $("#" + s).addClass("features__item-descrip_active"), $(".features").addClass(r)
    });
    var i = {},
        n = 0,
        l = 0,
        d = "",
        c = document.getElementsByClassName("start-btn");
    context = {}, element = {}, radius = 0, requestAnimFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
        window.setTimeout(e, 1e3 / 60)
    }, init = function() {
        c = Array.prototype.slice.call(c);
        for (var e = 0; e < c.length; e += 1)(i = document.createElement("canvas")).addEventListener("mousedown", press, !1), i.className = "start-btn__canvas", c[e].appendChild(i), i.style.width = "100%", i.style.height = "100%", i.width = i.offsetWidth, i.height = i.offsetHeight
    }, press = function(e) {
        d = e.toElement.parentElement.dataset.color, element = e.toElement, context = element.getContext("2d"), radius = 0, n = e.offsetX, l = e.offsetY, context.clearRect(0, 0, element.width, element.height), draw()
    }, draw = function() {
        context.beginPath(), context.arc(n, l, radius, 0, 2 * Math.PI, !1), context.fillStyle = d, context.fill(), radius += 10, radius < element.width && requestAnimFrame(draw), setTimeout(function() {
            context.clearRect(0, 0, element.width, element.height)
        }, 0)
    }, init(), $(".js-toogle-text__btn").on("click", function() {
        var e = $(this).closest(".js-toogle-text").find(".js-toogle-text__item"),
            t = $(this).closest(".js-toogle-text").find(".show-more-arrow");
        return $(this).hasClass("js-toogle-text__btn_collapsed") ? ($(this).removeClass("js-toogle-text__btn_collapsed"), e.slideUp(), t.length && t.css({
            transform: "rotate(90deg)"
        })) : ($(this).addClass("js-toogle-text__btn_collapsed"), e.slideDown(), t.length && t.css({
            transform: "rotate(-90deg)"
        })), !1
    }), $(".order-form__toggle-btn").on("click", function() {
        $(this).siblings(".order-form__toggle-btn").removeClass("order-form__toggle-btn_active").addClass("order-form__toggle-btn_disabled"), $(this).addClass("order-form__toggle-btn_active").removeClass("order-form__toggle-btn_disabled");
        var e = $(this).data("form-toggle");
        if ($(".js-order-form").data("custom-package-os", e), null != e) {
            var t = ".order-form-for-" + e;
            $(this).closest(".order-form").find(".js-tab-dependence").removeClass("order-form_active"), $(this).closest(".order-form").find(t).addClass("order-form_active")
        }
        return "android" == e ? $(".order-form-popup__result-field-ratings").addClass("order-form-popup__result-field-hidden") : $(".order-form-popup__result-field-ratings").removeClass("order-form-popup__result-field-hidden"), $("#popup-result-installs, #popup-result-reviews, #popup-result-ratings").text(0), !1
    });
    const m = document.getElementsByClassName("header__nav-item_has-child");
    if ($("#topNav").on("click", "#closebtn", function(e) {
            for (let i = 0; i < m.length; i++) m[i].classList.remove("parent-menu_show");
            $(this).find("span").each(function(e, t) {
                $(this).toggleClass("active")
            }), $(this).find("span").hasClass("active") ? ($(".header__nav-item").css({
                zIndex: 1,
                position: "relative",
                opacity: 1,
                top: "initial",
                display: "inline-block"
            }), $(".header__nav").addClass("header__nav_is-open")) : ($(".header__nav-item").css({
                zIndex: -1,
                position: "absolute",
                opacity: 0,
                top: "-999999px",
                display: "none"
            }), $(".header__nav").removeClass("header__nav_is-open")), window.onresize = (() => {
                window.innerWidth >= 1200 && ($(".header__nav").removeClass("header__nav_is-open"), $(".header__nav-item").css({
                    zIndex: 1,
                    position: "relative",
                    opacity: 1,
                    top: "initial",
                    display: "inline-block"
                }))
            }), e.preventDefault()
        }), window.innerWidth < 1200 && $('.header__nav-item_has-child a[href="#"]').on("click", function(e) {
            e.preventDefault(), e.target.closest(".header__nav-item_has-child").classList.toggle("parent-menu_show")
        }), $(window).on("scroll", function() {
            $(this).scrollTop() > 100 ? $("#back-top").fadeIn() : $("#back-top").fadeOut()
        }), $("#back-top").on("click", function() {
            return $("body,html").animate({
                scrollTop: 0
            }, 800), !1
        }), $(".js-form-btn").on("click", function() {
            var e = $(this).closest(".js-order-form").find(".js-input-form-email");
            if (!t($(this).closest(".js-order-form").find(".js-input-form-email").val())) return e.val(""), e.attr("placeholder", "This email address is not valid"), e.addClass("input-form_error"), !1
        }), $(".js-send-form").on("click", function() {
            var e = !1,
                s = $(this).closest(".js-form").data("form-id"),
                a = {};
            return $("input, select, textarea").each(function() {
                if ($(this).hasClass("js-required") && "none" != $(this).css("display")) {
                    var s = $(this).closest(".js-wrapp"),
                        o = $(this).val(),
                        r = $(this).attr("name");
                    s.removeClass("error-form-field"), "" == o || null == o ? (s.addClass("error-form-field"), e = !0) : "email" != $(this).attr("type") || t($(this).val()) || (s.addClass("error-form-field"), e = !0), a[r] = o
                }
            }), e || (a["form-id"] = s, $.ajax({
                url: "/mail/",
                type: "post",
                data: {
                    formData: a
                },
                success: function(e) {
                    1 == e && ($("#success-form-" + s).show(), $("html").css("overflow", "hidden"))
                }
            })), !1
        }), $("html").on("click", function(e) {
            e.target.closest(".success-pop-up") || e.target.closest(".modal-subscribe") || ($(".success-pop-up-wrap").hide(), $(".modal-subscribe-wrapp").addClass("modal-subscribe-wrapp_hide"), $("html").css("overflow", "auto"))
        }), $(".js-custom-pack-btn").on("click", function() {
            var e = $(".js-order-form").data("custom-package-os"),
                s = $(".js-order-form").data("form-id"),
                a = $("#popup-result-installs").text(),
                o = $("#popup-result-reviews").text(),
                r = $("#popup-result-ratings").text(),
                i = $(".js-order-form .js-input-form-email").val(),
                n = $(".js-order-form .js-wrapp"),
                l = !1,
                d = {
                    "form-id": s,
                    "package-os": e,
                    installs: a,
                    reviews: o,
                    ratings: r,
                    email: i
                };
            n.removeClass("error-form-field"), t(i) || (n.addClass("error-form-field"), l = !0), l || $.ajax({
                url: "/mail/",
                type: "post",
                data: {
                    formData: d
                },
                success: function(e) {
                    1 == e && ($(".order-form-popup").removeClass("order-form-popup_show"), $(".order-form-popup-wrap").removeClass("order-form-popup-wrap_show"), $("#success-form-" + s).show(), $("html").css("overflow", "hidden"))
                }
            })
        }), $(".js-packg-form").on("submit", function(e) {
            s($(this)) && e.preventDefault()
        }), $("html").on("submit", ".js-packg-email-form", function() {
            var e = s($(this));
            return form = $(this).closest(".js-packg-email-form"), formId = form.data("form-id"), appLink = form.find(".js-form-app-link").val(), appEmail = form.find(".js-form-app-email").val(), formData = {
                "form-id": formId,
                "app-link": appLink,
                email: appEmail
            }, e || $.ajax({
                url: "/mail/",
                type: "post",
                data: {
                    formData: formData
                },
                success: function(e) {
                    1 == e && ($("#success-form-" + formId).show(), $("html").css("overflow", "hidden"))
                }
            }), !1
        }), $(".order-form-key-ins").on("submit", function() {
            if (s($(this))) return !1
        }), $(".js-modal-subscribe-btn").on("click", function() {
            $(".modal-subscribe__form").removeClass("error-form-field");
            var e = $(".js-modal-subscribe-input").val();
            return t(e) ? (formData = {
                "form-id": 2,
                email: e
            }, $(".modal-subscribe_success").css("display", "block"), $(".js-modal-subscribe-setp-1").css("display", "none"), $.ajax({
                url: "/mail/",
                type: "post",
                data: {
                    formData: formData
                },
                success: function(e) {}
            })) : $(".modal-subscribe__form").addClass("error-form-field"), !1
        }), $(".js-modal-subscribe__close, .js-modal-subscribe__ok").on("click", function() {
            $(".modal-subscribe-wrapp").addClass("modal-subscribe-wrapp_hide")
        }), $(".js-float-label-input").on("focus", function() {
            $(this).closest(".js-float-label-wrapper").addClass("focused")
        }), $(".js-float-label").on("click", function() {
            var e = $(this).closest(".js-float-label-wrapper");
            e.addClass("focused"), e.find("input").focus()
        }), $(".js-float-label-input").on("focusout", function() {
            "" == $(this).val() && $(this).closest(".js-float-label-wrapper").removeClass("focused")
        }), "/" == window.location.pathname) {
        var p, f = document.getElementsByClassName("description-card");

        function u() {
            for (p = window.innerWidth >= 992 ? document.querySelector(".features-wrapper").getElementsByClassName("features-list-item") : document.querySelector(".features-wrapper-mobile").getElementsByClassName("features-list-item"), p = Array.prototype.slice.call(p), e = 0; e < p.length; e++) p[e].addEventListener("click", o)
        }
        u(), $(window).resize(function() {
            u()
        }), new LazyLoad({
            elements_selector: ".lazy"
        })
    }
    $(".keyword-installs-page .scroll-block__btn").click(function() {
        let e = $(".keyword-installs").offset().top;
        $("html").animate({
            scrollTop: e
        })
    })
});